<html><head><link rel="import" href="../iron-location/iron-location.html"><link rel="import" href="../marked-element/marked-element.html"><link rel="import" href="../polymer/polymer.html"><link rel="import" href="../prism-element/prism-highlighter.html"><link rel="import" href="../prism-element/prism-theme-default.html"><link rel="import" href="iron-doc-behavior.html"><link rel="import" href="iron-doc-class.html"><link rel="import" href="iron-doc-demo.html"><link rel="import" href="iron-doc-element.html"><link rel="import" href="iron-doc-mixin.html"><link rel="import" href="iron-doc-namespace.html"></head><body><dom-module id="iron-doc-viewer"><template><style include="iron-doc-viewer-styles prism-theme-default">iron-doc-demo{height:100%;}</style><iron-location path="{{_urlPath}}" hash="{{_urlHash}}"></iron-location><template is="dom-if" if="[[_equal(_descriptorType,'demos')]]" restamp=""><iron-doc-demo class="active" demo="[[_demo]]" src-prefix="[[demoSrcPrefix]]" title="{{title}}"></iron-doc-demo></template><template is="dom-if" if="[[_equal(_descriptorType,'namespaces')]]" restamp=""><iron-doc-namespace class="active" descriptor="[[_currentDescriptor]]" fragment-prefix="[[_fragmentPrefix]]" title="{{title}}" base-href="[[baseHref]]"></iron-doc-namespace></template><template is="dom-if" if="[[_equal(_descriptorType,'elements')]]" restamp=""><iron-doc-element class="active" descriptor="[[_currentDescriptor]]" fragment-prefix="[[_fragmentPrefix]]" title="{{title}}" base-href="[[baseHref]]"></iron-doc-element></template><template is="dom-if" if="[[_equal(_descriptorType,'mixins')]]" restamp=""><iron-doc-mixin class="active" descriptor="[[_currentDescriptor]]" fragment-prefix="[[_fragmentPrefix]]" title="{{title}}" base-href="[[baseHref]]"></iron-doc-mixin></template><template is="dom-if" if="[[_equal(_descriptorType,'behaviors')]]" restamp=""><iron-doc-behavior class="active" descriptor="[[_currentDescriptor]]" fragment-prefix="[[_fragmentPrefix]]" title="{{title}}" base-href="[[baseHref]]"></iron-doc-behavior></template><template is="dom-if" if="[[_equal(_descriptorType,'classes')]]" restamp=""><iron-doc-class class="active" descriptor="[[_currentDescriptor]]" fragment-prefix="[[_fragmentPrefix]]" title="{{title}}" base-href="[[baseHref]]"></iron-doc-class></template></template><script>(function(){function a(a,b){var c=b.split('.');if(!(2>c.length)){c=c.slice(0,c.length-1);for(var d=a,e=0;e<c.length;e++){if(!d.namespaces)return;var f=d.namespaces.filter(function(a){return a.name===c[e]});if(0===f.length)return;d=f[0]}return d}}Polymer({is:'iron-doc-viewer',properties:{descriptor:{type:Object},baseHref:{type:String,value:'#'},demoSrcPrefix:String,path:{type:String,notify:!0,value:null},rootNamespace:{type:String},title:{type:String,notify:!0},demo:{type:Boolean,computed:'_computeDemo(_demo)',reflectToAttribute:!0,notify:!0},_descriptorType:String,_urlPath:String,_urlHash:String,_currentDescriptor:Object,_fragmentPrefix:String,_scrollTo:String,_demo:Object},observers:['_routingChanged(baseHref, _urlPath, _urlHash)','_dataChanged(descriptor, path, _scrollTo)'],_equal:function(c,a){return c==a},_computeDemo:function(a){return!!a},_routingChanged:function(a,b,c){if(0===a.indexOf('#')){var d=(c||'').split('#');this.path=d[0],this._scrollTo=d[1]||null,this._fragmentPrefix=d[0]+'#'}else this.path=a&&b&&0===b.indexOf(a)?b.substring(a.length):b,this._scrollTo=c},_dataChanged:function(b,c,d){if(!this.descriptor)return void(this._descriptorType=null);if(!c||'/'===c)return void(this.rootNamespace?this.path='/namespaces/'+this.rootNamespace:(this._descriptorType='namespaces',this._currentDescriptor=b));var e,g,f;this.baseHref&&0<=c.indexOf(this.baseHref)&&(c=c.substring(this.baseHref.length));var h=c.split('/');1<h.length&&(e=h[1],g=h[2]),3<h.length&&'demos'===h[3]&&(f=h.slice(4).join('/'));var j=a(this.descriptor,g)||this.descriptor;if(null!=j){if(this._descriptorType=e,'namespaces'===e)this._currentDescriptor=j.namespaces&&j.namespaces.filter(function(a){return a.name===g})[0];else if('elements'===e)this._currentDescriptor=j.elements&&j.elements.filter(function(a){return a.name===g||a.tagname===g})[0];else if('classes'===e)this._currentDescriptor=j.classes&&j.classes.filter(function(a){return(a.name||a.tagname)===g})[0];else if('mixins'===e)this._currentDescriptor=j.mixins&&j.mixins.filter(function(a){return a.name===g})[0];else if('behaviors'===e){var k=((j.metadata||{}).polymer||{}).behaviors;this._currentDescriptor=k&&k.filter(function(a){return a.name===g})[0]}else'functions'===e&&(this._currentDescriptor=j.functions&&j.functions.filter(function(a){return a.name===g})[0]);if(this._demo=null,f&&this._currentDescriptor&&this._currentDescriptor.demos)for(var l=0;l<this._currentDescriptor.demos.length;l++){var i=this._currentDescriptor.demos[l],m=i.description&&i.description.toLowerCase().replace(/\s+/g,'-');if(i.url===f||m&&m===f){this._demo=i,this._descriptorType='demos';break}}if(this.fire('view-changed'),d){Polymer.dom.flush();var n=this.$$('.active');n&&n.scrollToAnchor&&n.scrollToAnchor(d)}}}})})();</script></dom-module></body></html>