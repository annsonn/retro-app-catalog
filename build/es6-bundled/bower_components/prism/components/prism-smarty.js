(function(a){var b=/\{\*[\s\S]+?\*\}|\{[\s\S]+?\}/g,c=!1;a.languages.smarty=a.languages.extend('markup',{smarty:{pattern:b,inside:{delimiter:{pattern:/^\{|\}$/i,alias:'punctuation'},string:/(["'])(?:\\?.)*?\1/,number:/\b-?(?:0x[\dA-Fa-f]+|\d*\.?\d+(?:[Ee][-+]?\d+)?)\b/,variable:[/\$(?!\d)\w+/,/#(?!\d)\w+#/,{pattern:/(\.|->)(?!\d)\w+/,lookbehind:!0},{pattern:/(\[)(?!\d)\w+(?=\])/,lookbehind:!0}],function:[{pattern:/(\|\s*)@?(?!\d)\w+/,lookbehind:!0},/^\/?(?!\d)\w+/,/(?!\d)\w+(?=\()/],"attr-name":{pattern:/\w+\s*=\s*(?:(?!\d)\w+)?/,inside:{variable:{pattern:/(=\s*)(?!\d)\w+/,lookbehind:!0},operator:/=/}},punctuation:[/[\[\]().,:`]|\->/],operator:[/[+\-*\/%]|==?=?|[!<>]=?|&&|\|\|?/,/\bis\s+(?:not\s+)?(?:div|even|odd)(?:\s+by)?\b/,/\b(?:eq|neq?|gt|lt|gt?e|lt?e|not|mod|or|and)\b/],keyword:/\b(?:false|off|on|no|true|yes)\b/}}}),a.languages.insertBefore('smarty','tag',{"smarty-comment":{pattern:/\{\*[\s\S]*?\*\}/,alias:['smarty','comment']}}),a.hooks.add('before-highlight',function(a){'smarty'!==a.language||(a.tokenStack=[],a.backupCode=a.code,a.code=a.code.replace(b,function(b){if(b==='{/literal}'&&(c=!1),!c){b==='{literal}'&&(c=!0);for(var d=a.tokenStack.length;-1!==a.backupCode.indexOf('___SMARTY'+d+'___');)++d;return a.tokenStack[d]=b,'___SMARTY'+d+'___'}return b}))}),a.hooks.add('before-insert',function(a){'smarty'===a.language&&(a.code=a.backupCode,delete a.backupCode)}),a.hooks.add('after-highlight',function(b){if('smarty'===b.language){for(var c=0,d=Object.keys(b.tokenStack);c<d.length;++c){var e=d[c],f=b.tokenStack[e];b.highlightedCode=b.highlightedCode.replace('___SMARTY'+e+'___',a.highlight(f,b.grammar,'smarty').replace(/\$/g,'$$$$'))}b.element.innerHTML=b.highlightedCode}})})(Prism);