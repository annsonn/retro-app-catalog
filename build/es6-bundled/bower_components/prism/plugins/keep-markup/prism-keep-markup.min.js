!function(){"undefined"!=typeof self&&self.Prism&&self.document&&document.createRange&&(Prism.plugins.KeepMarkup=!0,Prism.hooks.add("before-highlight",function(a){if(a.element.children.length){var b=0,c=[],d=function(f,e){var g={};e||(g.clone=f.cloneNode(!1),g.posOpen=b,c.push(g));for(var h,i=0,a=f.childNodes.length;a>i;i++)h=f.childNodes[i],1===h.nodeType?d(h):3===h.nodeType&&(b+=h.data.length);e||(g.posClose=b)};d(a.element,!0),c.length&&(a.keepMarkup=c)}}),Prism.hooks.add("after-highlight",function(a){if(a.keepMarkup&&a.keepMarkup.length){var b=function(c,e){for(var f,g=0,h=c.childNodes.length;h>g;g++){if(f=c.childNodes[g],1!==f.nodeType)3===f.nodeType&&(!e.nodeStart&&e.pos+f.data.length>e.node.posOpen&&(e.nodeStart=f,e.nodeStartPos=e.node.posOpen-e.pos),e.nodeStart&&e.pos+f.data.length>=e.node.posClose&&(e.nodeEnd=f,e.nodeEndPos=e.node.posClose-e.pos),e.pos+=f.data.length);else if(!b(f,e))return!1;if(e.nodeStart&&e.nodeEnd){var d=document.createRange();return d.setStart(e.nodeStart,e.nodeStartPos),d.setEnd(e.nodeEnd,e.nodeEndPos),e.node.clone.appendChild(d.extractContents()),d.insertNode(e.node.clone),d.detach(),!1}}return!0};a.keepMarkup.forEach(function(c){b(a.element,{node:c,pos:0})}),a.highlightedCode=a.element.innerHTML}}))}();