(function(a){var b=/\{\{\{[\s\S]+?\}\}\}|\{\{[\s\S]+?\}\}/g;a.languages.handlebars=a.languages.extend('markup',{handlebars:{pattern:b,inside:{delimiter:{pattern:/^\{\{\{?|\}\}\}?$/i,alias:'punctuation'},string:/(["'])(\\?.)*?\1/,number:/\b-?(0x[\dA-Fa-f]+|\d*\.?\d+([Ee][+-]?\d+)?)\b/,boolean:/\b(true|false)\b/,block:{pattern:/^(\s*~?\s*)[#\/]\S+?(?=\s*~?\s*$|\s)/i,lookbehind:!0,alias:'keyword'},brackets:{pattern:/\[[^\]]+\]/,inside:{punctuation:/\[|\]/,variable:/[\s\S]+/}},punctuation:/[!"#%&'()*+,.\/;<=>@\[\\\]^`{|}~]/,variable:/[^!"#%&'()*+,.\/;<=>@\[\\\]^`{|}~\s]+/}}}),a.languages.insertBefore('handlebars','tag',{"handlebars-comment":{pattern:/\{\{![\s\S]*?\}\}/,alias:['handlebars','comment']}}),a.hooks.add('before-highlight',function(a){'handlebars'!==a.language||(a.tokenStack=[],a.backupCode=a.code,a.code=a.code.replace(b,function(b){for(var c=a.tokenStack.length;-1!==a.backupCode.indexOf('___HANDLEBARS'+c+'___');)++c;return a.tokenStack[c]=b,'___HANDLEBARS'+c+'___'}))}),a.hooks.add('before-insert',function(a){'handlebars'===a.language&&(a.code=a.backupCode,delete a.backupCode)}),a.hooks.add('after-highlight',function(b){if('handlebars'===b.language){for(var c=0,d=Object.keys(b.tokenStack);c<d.length;++c){var e=d[c],f=b.tokenStack[e];b.highlightedCode=b.highlightedCode.replace('___HANDLEBARS'+e+'___',a.highlight(f,b.grammar,'handlebars').replace(/\$/g,'$$$$'))}b.element.innerHTML=b.highlightedCode}})})(Prism);