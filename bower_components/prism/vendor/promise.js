!function(){var g,j,a,b;!function(){var d={},e={};g=function(e,a,f){d[e]={deps:a,callback:f}},b=a=j=function(o){function a(a){if("."!==a.charAt(0))return a;for(var b,g=a.split("/"),h=o.split("/").slice(0,-1),d=0,e=g.length;e>d;d++)if(b=g[d],".."===b)h.pop();else{if("."===b)continue;h.push(b)}return h.join("/")}if(b._eak_seen=d,e[o])return e[o];if(e[o]={},!d[o])throw new Error("Could not find module "+o);for(var c,f=d[o],g=f.deps,h=f.callback,i=[],k=0,l=g.length;l>k;k++)"exports"===g[k]?i.push(c={}):i.push(j(a(g[k])));var m=h.apply(this,i);return e[o]=c||m}}(),g("promise/all",["./utils","exports"],function(c,a){"use strict";var f=c.isArray,b=c.isFunction;a.all=function(e){var a=this;if(!f(e))throw new TypeError("You must pass an array to all.");return new a(function(k,a){function c(c){return function(a){d(c,a)}}function d(b,a){g[b]=a,0===--h&&k(g)}var f,g=[],h=e.length;0===h&&k([]);for(var i=0;i<e.length;i++)f=e[i],f&&b(f.then)?f.then(c(i),a):d(i,f)})}}),g("promise/asap",["exports"],function(b){"use strict";function a(){var e=0,a=new f(d),b=document.createTextNode("");return a.observe(b,{characterData:!0}),function(){b.data=e=++e%2}}function d(){for(var e=0;e<h.length;e++){var a=h[e],b=a[0],c=a[1];b(c)}h=[]}var e,c="undefined"==typeof window?{}:window,f=c.MutationObserver||c.WebKitMutationObserver,g="undefined"==typeof global?void 0===this?window:this:global,h=[];e="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?function(){return function(){process.nextTick(d)}}():f?a():function(){return function(){g.setTimeout(d,1)}}(),b.asap=function(d,a){var b=h.push([d,a]);1===b&&e()}}),g("promise/config",["exports"],function(d){"use strict";function a(c,a){return 2===arguments.length?(e[c]=a,void 0):e[c]}var e={instrument:!1};d.config=e,d.configure=a}),g("promise/polyfill",["./promise","./utils","exports"],function(d,a,b){"use strict";var c=d.Promise,e=a.isFunction;b.polyfill=function(){var d="undefined"==typeof global?"undefined"!=typeof window&&window.document?window:self:global;var a="Promise"in d&&"resolve"in d.Promise&&"reject"in d.Promise&&"all"in d.Promise&&"race"in d.Promise&&function(){var c;return new d.Promise(function(b){c=b}),e(c)}();a||(d.Promise=c)}}),g("promise/promise",["./config","./utils","./all","./race","./resolve","./reject","./asap","exports"],function(F,a,b,c,d,e,f,g){"use strict";function h(b){if(!u(b))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof h))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._subscribers=[],G(b,this)}function G(e,f){function a(b){n(f,b)}function b(b){p(f,b)}try{e(a,b)}catch(a){b(a)}}function j(j,a,b,c){var d,e,f,g,h=u(b);if(h)try{d=b(c),f=!0}catch(a){g=!0,e=a}else d=c,f=!0;m(a,d)||(h&&f?n(a,d):g?p(a,e):j===C?n(a,d):j===D&&p(a,d))}function k(g,a,b,c){var d=g._subscribers,e=d.length;d[e]=a,d[e+C]=b,d[e+D]=c}function l(h,a){for(var b,c,d=h._subscribers,e=h._detail,f=0;f<d.length;f+=3)b=d[f],c=d[f+a],j(a,b,c,e);h._subscribers=null}function m(f,a){var g,b=null;try{if(f===a)throw new TypeError("A promises callback cannot return that same promise.");if(t(a)&&(b=a.then,u(b)))return b.call(a,function(b){return!!g||(g=!0,a===b?o(f,b):n(f,b),void 0)},function(a){return!!g||(g=!0,p(f,a),void 0)}),!0}catch(a){return!!g||(p(f,a),!0)}return!1}function n(c,a){c===a?o(c,a):m(c,a)||o(c,a)}function o(c,a){c._state===A&&(c._state=B,c._detail=a,s.async(q,c))}function p(c,a){c._state===A&&(c._state=B,c._detail=a,s.async(r,c))}function q(b){l(b,b._state=C)}function r(b){l(b,b._state=D)}var s=F.config,t=(F.configure,a.objectOrFunction),u=a.isFunction,v=(a.now,b.all),w=c.race,x=d.resolve,y=e.reject,z=f.asap;s.async=z;var A,B=0,C=1,D=2;h.prototype={constructor:h,_state:void 0,_detail:void 0,_subscribers:void 0,then:function(f,a){var b=this,c=new this.constructor(function(){});if(this._state){var d=arguments;s.async(function(){j(b._state,c,d[b._state-1],b._detail)})}else k(this,c,f,a);return c},catch:function(b){return this.then(null,b)}},h.all=v,h.race=w,h.resolve=x,h.reject=y,g.Promise=h}),g("promise/race",["./utils","exports"],function(c,a){"use strict";var e=c.isArray;a.race=function(f){var a=this;if(!e(f))throw new TypeError("You must pass an array to race.");return new a(function(a,b){for(var c,d=0;d<f.length;d++)c=f[d],c&&"function"==typeof c.then?c.then(a,b):a(c)})}}),g("promise/reject",["exports"],function(c){"use strict";function a(d){var a=this;return new a(function(a,b){b(d)})}c.reject=a}),g("promise/resolve",["exports"],function(c){"use strict";function a(c){if(c&&"object"==typeof c&&c.constructor===this)return c;var d=this;return new d(function(a){a(c)})}c.resolve=a}),g("promise/utils",["exports"],function(b){"use strict";function d(b){return"function"==typeof b}var a=Date.now||function(){return new Date().getTime()};b.objectOrFunction=function(b){return d(b)||"object"==typeof b&&null!==b},b.isFunction=d,b.isArray=function(b){return"[object Array]"===Object.prototype.toString.call(b)},b.now=a}),j("promise/polyfill").polyfill()}();