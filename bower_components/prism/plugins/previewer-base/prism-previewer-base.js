(function(){if('undefined'!==typeof self&&self.Prism&&self.document&&Function.prototype.bind){var a=function(a){var b=0,c=0,d=a;if(d.parentNode){do b+=d.offsetLeft,c+=d.offsetTop;while((d=d.offsetParent)&&9>d.nodeType);d=a;do b-=d.scrollLeft,c-=d.scrollTop;while((d=d.parentNode)&&!/body/i.test(d.nodeName))}return{top:c,right:innerWidth-b-a.offsetWidth,bottom:innerHeight-c-a.offsetHeight,left:b}},b=/(?:^|\s)token(?=$|\s)/,c=/(?:^|\s)active(?=$|\s)/g,d=/(?:^|\s)flipped(?=$|\s)/g,e=function(a,b,c,d){this._elt=null,this._type=a,this._clsRegexp=RegExp('(?:^|\\s)'+a+'(?=$|\\s)'),this._token=null,this.updater=b,this._mouseout=this.mouseout.bind(this),this.initializer=d;var f=this;c||(c=['*']),'Array'!==Prism.util.type(c)&&(c=[c]),c.forEach(function(a){'string'!==typeof a&&(a=a.lang),e.byLanguages[a]||(e.byLanguages[a]=[]),0>e.byLanguages[a].indexOf(f)&&e.byLanguages[a].push(f)}),e.byType[a]=this};e.prototype.init=function(){this._elt||(this._elt=document.createElement('div'),this._elt.className='prism-previewer prism-previewer-'+this._type,document.body.appendChild(this._elt),this.initializer&&this.initializer())},e.prototype.check=function(a){do if(b.test(a.className)&&this._clsRegexp.test(a.className))break;while(a=a.parentNode);a&&a!==this._token&&(this._token=a,this.show())},e.prototype.mouseout=function(){this._token.removeEventListener('mouseout',this._mouseout,!1),this._token=null,this.hide()},e.prototype.show=function(){if(this._elt||this.init(),!!this._token)if(this.updater.call(this._elt,this._token.textContent)){this._token.addEventListener('mouseout',this._mouseout,!1);var b=a(this._token);this._elt.className+=' active',0<b.top-this._elt.offsetHeight?(this._elt.className=this._elt.className.replace(d,''),this._elt.style.top=b.top+'px',this._elt.style.bottom=''):(this._elt.className+=' flipped',this._elt.style.bottom=b.bottom+'px',this._elt.style.top=''),this._elt.style.left=b.left+Math.min(200,this._token.offsetWidth/2)+'px'}else this.hide()},e.prototype.hide=function(){this._elt.className=this._elt.className.replace(c,'')},e.byLanguages={},e.byType={},e.initEvents=function(a,b){var c=[];e.byLanguages[b]&&(c=c.concat(e.byLanguages[b])),e.byLanguages['*']&&(c=c.concat(e.byLanguages['*'])),a.addEventListener('mouseover',function(a){var b=a.target;c.forEach(function(a){a.check(b)})},!1)},Prism.plugins.Previewer=e,Prism.hooks.add('after-highlight',function(a){(e.byLanguages['*']||e.byLanguages[a.language])&&e.initEvents(a.element,a.language)})}})();